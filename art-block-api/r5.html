<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.js"></script>
    <script>
      // Token Ids: 10000000,10000001,10000002,10000003,10000004,10000005,10000006,10000007,10000008,10000009,10000010,10000011,10000012,10000013,10000014,10000015,10000016,10000017,10000018,10000019,10000020,10000021,10000022,10000023,10000024,10000025,10000026,10000027,10000028,10000029,10000030,10000031,10000032,10000033,10000034,10000035,10000036,10000037,10000038,10000039,10000040,10000041,10000042,10000043,10000044,10000045,10000046,10000047,10000048,10000049,10000050,10000051,10000052,10000053,10000054,10000055,10000056,10000057,10000058,10000059,10000060,10000061,10000062,10000063,10000064,10000065,10000066,10000067,10000068,10000069,10000070,10000071,10000072,10000073,10000074,10000075,10000076,10000077,10000078,10000079,10000080,10000081,10000082,10000083,10000084,10000085,10000086,10000087,10000088,10000089,10000090,10000091,10000092,10000093,10000094,10000095,10000096,10000097,10000098,10000099
      let tokenData = {
        hash:
          "0x2ed5912b84b7777777777772735e5a45416a5a723172a643ca545bee87be96c2",
        //"0x2ed5912b84b45dad487dd392735e5a45416a5a723172a643ca545bee87be96c2", 0x9C238282Db349A20d501c5bfeE13ed29ae5a451C",
        tokenId: "500005"
      };
    </script>
    <style type="text/css">
      body {
        margin: 0;
        padding: 0;
      }

      canvas {
        padding: 0;
        margin: auto;
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }
    </style>
  </head>
  <body>
    <center>
      <h1>
        5 üçæ
      </h1>
      <a href="https://api.artblocks.io/project/5">project 5</a>
    </center>
    <script>
      tokenData = tokenData.hash;
let hashPairs = [];
for (let i = 0; i < 63; i++) {
     let hex = tokenData.slice(i + 2, i + 4);
     hashPairs[i] = parseInt(hex, 16);
}
for (let i = 0; i < 32; i++) {
     let hex = tokenData.slice(i + 2, i + 3) + tokenData.slice(i + 34, i + 35);
     hashPairs[i + 63] = parseInt(hex, 16);
}
let imagew;
let imageh;
let grid;
let rmin;
let rmax;
let wmin;
let wmax;
let hmin;
let hmax;
let homax;
let vomax;
let c;
let r;
let w;
let h;
let ho;
let vo;
let sw;

function setup() {
     grid = 8;
     rmin = 8;
     rmax = 16;
     wmin = 3;
     wmax = 7;
     hmin = 3;
     hmax = 7;
     homax = 7;
     vomax = 7;
     r = floor(map(hashPairs[0], 0, 255, rmin, rmax + 0.9999999999));
     let dim = Math.floor(Math.min(window.innerWidth, window.innerHeight) / 160) * 160;
     createCanvas(dim, dim);
     colorMode(RGB, 255);
     background(255);
     noFill();
     rectMode(CENTER);
     imagew = 8 * width / 10;
     imageh = 8 * height / 10;
}

function draw() {
     c = floor(map(hashPairs[1], 0, 255, 0, 1.9999999999));
     background(231);
     stroke(9, 69, 209);
     if (c > 0) {
          background(9, 69, 209);
          stroke(231);
     }
     for (let i = 0; i < r; i++) {
          w = int(imagew / grid) * floor(map(hashPairs[i + 2], 0, 255, wmin, wmax + 0.9999999999));
          h = int(imageh / grid) * floor(map(hashPairs[i + 18], 0, 255, hmin, hmax + 0.9999999999));
          ho = int(imagew / (2 * grid)) * (homax - floor(map(hashPairs[i + 34], 0, 255, 0, (2 * homax) + 0.9999999999)));
          vo = int(imageh / (2 * grid)) * (vomax - floor(map(hashPairs[i + 50], 0, 255, 0, (2 * vomax) + 0.9999999999)));
          if (i == 0) {
               ho = int(imagew / (2 * grid)) * homax;
          }
          if (i == 1) {
               ho = int(imagew / (2 * grid)) * -homax;
          }
          if (i == 2) {
               vo = int(imageh / (2 * grid)) * vomax;
          }
          if (i == 3) {
               vo = int(imageh / (2 * grid)) * -vomax;
          }
          sw = floor(map(hashPairs[i + 66], 0, 255, 1, 2.9999999999));
          if (i == r - 1) {
               sw = 2;
          }
          strokeWeight(imagew / (sw * 8 * grid));
          if (w / 2 + ho > imagew / 2) {
               ho = int(imagew / 2) - (w / 2);
          }
          if (w / 2 - ho > imagew / 2) {
               ho = (w / 2) - int(imagew / 2);
          }
          if (h / 2 + vo > imageh / 2) {
               vo = int(imageh / 2) - h / 2;
          }
          if (h / 2 - vo > imageh / 2) {
               vo = h / 2 - int(imageh / 2);
          }
          if (sw == 2) {
               h = h + imageh / (sw * 8 * grid);
               w = w + imagew / (sw * 8 * grid);
          }
          if (sw == 1 && c == 0) {
               fill(231);
          }
          if (sw == 1 && c == 1) {
               fill(9, 69, 209);
          }
          if (sw == 2) {
               noFill();
          }
          rect((width / 2) + ho, (height / 2) + vo, w, h);
     }
     noLoop();
}
    </script>
  </body>
</html>
