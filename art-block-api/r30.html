<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.js"></script>
    <script>
      // Token Ids: 10000000,10000001,10000002,10000003,10000004,10000005,10000006,10000007,10000008,10000009,10000010,10000011,10000012,10000013,10000014,10000015,10000016,10000017,10000018,10000019,10000020,10000021,10000022,10000023,10000024,10000025,10000026,10000027,10000028,10000029,10000030,10000031,10000032,10000033,10000034,10000035,10000036,10000037,10000038,10000039,10000040,10000041,10000042,10000043,10000044,10000045,10000046,10000047,10000048,10000049,10000050,10000051,10000052,10000053,10000054,10000055,10000056,10000057,10000058,10000059,10000060,10000061,10000062,10000063,10000064,10000065,10000066,10000067,10000068,10000069,10000070,10000071,10000072,10000073,10000074,10000075,10000076,10000077,10000078,10000079,10000080,10000081,10000082,10000083,10000084,10000085,10000086,10000087,10000088,10000089,10000090,10000091,10000092,10000093,10000094,10000095,10000096,10000097,10000098,10000099
      let tokenData = {
        hash:
          "0x2ed5912b84b7777777777772735e5a45416a5a723172a643ca545bee87be96c2",
        //"0x2ed5912b84b45dad487dd392735e5a45416a5a723172a643ca545bee87be96c2", 0x9C238282Db349A20d501c5bfeE13ed29ae5a451C",
        tokenId: "500005"
      };
    </script>
    <style type="text/css">
      body {
        margin: 0;
        padding: 0;
      }

      canvas {
        padding: 0;
        margin: auto;
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }
    </style>
  </head>
  <body>
    <center>
      <h1>
        5 üçæ
      </h1>
      <a href="https://api.artblocks.io/project/5">project 5</a>
    </center>
    <script>
      var seed = parseInt(tokenData.hash.slice(0, 16), 16);
class XY {
     constructor(n, e) {
          this.x = n, this.y = e, this.points = []
     }
}
class Grid {
     constructor(n) {
          this.x = n, this.y = n, this.g = []
     }
     get_xy(n, e) {
          return this.g[e][n]
     }
}
var PALS = [
          ["#000020", "#EEEEEE", "#FFFFFF00"],
          ["#E2EBFB", "#0F1318", "#000003"],
          ["#E8175D", "#D8A499", "#000020"],
          ["#D1ADEF", "#80D9FF", "#000030"],
          ["#FFAF00", "#FBF0D2", "#614200"],
          ["#F2D39F", "#2A1F30", "#000003"],
          ["#E6DDCE", "#70C7DB", "#C0A95B"],
          ["#C2AFCF", "#1E1028", "#000003"],
          ["#95CB99", "#D8D9DE", "#000020"],
          ["#FECB00", "#007CBC", "#000003"],
          ["#F4F9F9", "#7289DA", "#000030"],
          ["#949EBB", "#D7DDEA", "#000003"],
          ["#D8FF14", "#FF1FDA", "#090036"],
          ["#D9A881", "#1F0F08", "#000003"],
          ["#B32744", "#ED7672", "#000003"],
          ["#3AC9CE", "#413BCF", "#000000"],
          ["#44CCFF", "#FFF1D0", "#343432"]
     ],
     C = rnd_arr(PALS),
     DIM_CNV = Math.min(window.innerWidth, window.innerHeight),
     ROT = rnd_num() > .6,
     DIM_M = ROT ? rnd_num(1.5, 3) : 1,
     DIM = DIM_CNV * DIM_M,
     COUNT = rnd_int(3, 20),
     M = DIM / 1e3,
     MC = M / (COUNT / 5),
     BRD = rnd_int(25, 100) * M,
     SPC = rnd_num() > .5 ? rnd_int(40, 100) * MC : 0,
     SIZ = (DIM - 2 * BRD - SPC * (COUNT - 1)) / COUNT,
     SHADOW = rnd_num() > .25,
     PARTY_1 = rnd_num() > .6,
     PARTY_2 = rnd_num() > .6,
     BLND = rnd_num() > .8 & COUNT < 10,
     SHFT_X = rnd_num(2, 4),
     SHFT_Y = rnd_num(2, 4),
     G = new Grid(COUNT);
for (let n = BRD, e = 0; n <= DIM - BRD - SIZ + 1; n += SIZ + SPC, e++) {
     let t = [];
     for (let r = BRD, _ = 0; r <= DIM - BRD - SIZ + 1; r += SIZ + SPC, _++) {
          let d = new XY(_, e);
          d.x1 = r, d.y1 = n, d.x2 = r + SIZ, d.y2 = n + SIZ, t.push(d)
     }
     G.g.push(t)
}
var p1 = get_p(),
     p2 = get_p();

function setup() {
     createCanvas(DIM_CNV, DIM_CNV), background(C[1]), BLND && blendMode(HARD_LIGHT);
     for (let n of G.g) {
          PARTY_1 && (p1 = get_p(), p2 = get_p());
          for (let e of n) PARTY_2 && (p1 = get_p(), p2 = get_p()), e.p1 = p1, e.p2 = p2
     }
     ROT && (push(), translate(DIM / SHFT_X, -DIM / SHFT_Y), rotate(PI / 4)), SHADOW && drw_itr(drw_s), drw_itr(drw_f), ROT && pop()
}

function get_p() {
     let n = [];
     for (let e = 0; e < rnd_int(1, 10); e++) n.push([rnd_int(), rnd_int()]);
     return n
}

function drw_itr(n) {
     for (let e of G.g)
          for (let t of e) n(t.p1, t.x1, t.y1, t.x2, t.y2), n(t.p2, t.x1, t.y1, t.x2, t.y2)
}

function drw_f(n, e, t, r, _) {
     strokeJoin(ROUND), stroke(C[0]), strokeWeight(10 * MC), fill(C[0]), beginShape();
     for (let d of n) {
          let n = [e, r][d[0]],
               D = [t, _][d[1]];
          vertex(n, D), endShape(CLOSE)
     }
}

function drw_s(n, e, t, r, _) {
     strokeJoin(ROUND), stroke(C[2]), strokeWeight(8 * MC), fill(C[2]), beginShape();
     let d = r - e,
          D = _ - t;
     for (let o of n) {
          let n = [e, r][o[0]] + .05 * d,
               i = [t, _][o[1]] + .05 * D;
          vertex(n, i), endShape(CLOSE)
     }
}

function rnd_dec() {
     return seed ^= seed << 13, seed ^= seed >> 17, ((seed ^= seed << 5) < 0 ? 1 + ~seed : seed) % 1e3 / 1e3
}

function rnd_num(n = 0, e = 1) {
     return n + (e - n) * rnd_dec()
}

function rnd_int(n = 0, e = 1) {
     return Math.floor(rnd_num(n, e + 1))
}

function rnd_arr(n) {
     return n[Math.floor(rnd_num(0, .99 * n.length))]
}
    </script>
  </body>
</html>
