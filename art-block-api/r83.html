<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.js"></script>
    <script>
      // Token Ids: 10000000,10000001,10000002,10000003,10000004,10000005,10000006,10000007,10000008,10000009,10000010,10000011,10000012,10000013,10000014,10000015,10000016,10000017,10000018,10000019,10000020,10000021,10000022,10000023,10000024,10000025,10000026,10000027,10000028,10000029,10000030,10000031,10000032,10000033,10000034,10000035,10000036,10000037,10000038,10000039,10000040,10000041,10000042,10000043,10000044,10000045,10000046,10000047,10000048,10000049,10000050,10000051,10000052,10000053,10000054,10000055,10000056,10000057,10000058,10000059,10000060,10000061,10000062,10000063,10000064,10000065,10000066,10000067,10000068,10000069,10000070,10000071,10000072,10000073,10000074,10000075,10000076,10000077,10000078,10000079,10000080,10000081,10000082,10000083,10000084,10000085,10000086,10000087,10000088,10000089,10000090,10000091,10000092,10000093,10000094,10000095,10000096,10000097,10000098,10000099
      let tokenData = {
        hash:
          "0x2ed5912b84b7777777777772735e5a45416a5a723172a643ca545bee87be96c2",
        //"0x2ed5912b84b45dad487dd392735e5a45416a5a723172a643ca545bee87be96c2", 0x9C238282Db349A20d501c5bfeE13ed29ae5a451C",
        tokenId: "500005"
      };
    </script>
    <style type="text/css">
      body {
        margin: 0;
        padding: 0;
      }

      canvas {
        padding: 0;
        margin: auto;
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }
    </style>
  </head>
  <body>
    <center>
      <h1>
        5 üçæ
      </h1>
      <a href="https://api.artblocks.io/project/5">project 5</a>
    </center>
    <script>
      var lar = window.innerWidth,
     alt = window.innerHeight;
let seed, totCubi, lato, h, hash = tokenData.hash,
     screenW = lar,
     screenH = alt,
     facce = [];

function setup() {
     createCanvas(screenW, screenH), seed = parseInt(tokenData.hash.slice(0, 16), 16);
     let t = new Random(seed),
          e = Math.max(screenW, screenH),
          s = t.random_between(10, 20);
     lato = int(e / s), totCubi = int(t.random_between(400, 600)), h = sqrt(3) * lato / 2;
     let i = int(t.random_between(0, 250)),
          a = int(t.random_between(0, 250)),
          n = int(t.random_between(0, 250)),
          o = int(t.random_between(0, 250)),
          r = int(t.random_between(0, 250)),
          d = int(t.random_between(0, 250));
     background(i, a, n), strokeWeight(lato / 80), stroke(o, r, d), translate(-h, -lato), frameRate(5);
     for (let e = 0; e < totCubi; e++) {
          let e = int(t.random_between(0, screenW)),
               s = int(e - e % h),
               i = int(t.random_between(0, screenH)),
               a = i - i % lato,
               n = int(t.random_between(0, 255)),
               o = int(t.random_between(0, 255)),
               r = int(t.random_between(0, 255)),
               d = int(t.random_between(0, 255)),
               l = int(t.random_between(0, 7)),
               c = t.random_between(0, 3),
               m = 0,
               b = !0,
               w = 15;
          facce.push(new Faccia(s, a, n, o, r, d, l, c, m, b, w, lato, h))
     }
}

function draw() {
     for (let t = 0; t < totCubi; t++) facce[t].disegna()
}
class Random {
     constructor(t) {
          this.seed = t
     }
     random_dec() {
          return this.seed ^= this.seed << 13, this.seed ^= this.seed >> 17, this.seed ^= this.seed << 5, (this.seed < 0 ? 1 + ~this.seed : this.seed) % 1e3 / 1e3
     }
     random_between(t, e) {
          return t + (e - t) * this.random_dec()
     }
     random_int(t, e) {
          return Math.floor(this.random_between(t, e + 1))
     }
     random_choice(t) {
          return t[Math.floor(this.random_between(0, .99 * t.length))]
     }
}
class Faccia {
     constructor(t, e, s, i, a, n, h, o, r, d, l, c, m) {
          this.xPos = t, this.yPos = e, this.colR = s, this.colG = i, this.colB = a, this.colT = n, this.decideDimensioni = h, this.randomFaccia = o, this.trasAttuale = r, this.sale = d, this.lato = c, this.h = m, this.incrementoTras = l, this.decideDimensioni > 3 && this.decideDimensioni < 6 && (this.lato = 2 * this.lato, this.h = 2 * this.h), this.decideDimensioni > 6 && (this.lato = 3 * this.lato, this.h = 3 * this.h)
     }
     disegna() {
          push(), translate(this.xPos, this.yPos), this.sale ? this.trasAttuale = this.trasAttuale + this.incrementoTras : this.trasAttuale = this.trasAttuale - this.incrementoTras, this.trasAttuale > this.colT ? this.sale = !1 : this.trasAttuale < 0 && (this.sale = !0), fill(this.colR, this.colG, this.colB, this.trasAttuale), this.randomFaccia < 1 ? (beginShape(), vertex(0, 0), vertex(this.h, this.lato / 2), vertex(this.h, this.lato / 2 + this.lato), vertex(0, this.lato), endShape(CLOSE)) : this.randomFaccia > 1 && this.randomFaccia < 2 ? (beginShape(), vertex(0, 0), vertex(this.h, this.lato / 2 * -1), vertex(this.h, this.lato / 2 * -1 + this.lato), vertex(0, this.lato), endShape(CLOSE)) : this.randomFaccia > 2 && (beginShape(), vertex(0, 0), vertex(this.h, this.lato / 2 * -1), vertex(2 * this.h, 0), vertex(this.h, this.lato / 2 * -1 + this.lato), endShape(CLOSE)), pop()
     }
}
    </script>
  </body>
</html>
