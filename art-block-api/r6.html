<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.js"></script>
    <script>
      // Token Ids: 10000000,10000001,10000002,10000003,10000004,10000005,10000006,10000007,10000008,10000009,10000010,10000011,10000012,10000013,10000014,10000015,10000016,10000017,10000018,10000019,10000020,10000021,10000022,10000023,10000024,10000025,10000026,10000027,10000028,10000029,10000030,10000031,10000032,10000033,10000034,10000035,10000036,10000037,10000038,10000039,10000040,10000041,10000042,10000043,10000044,10000045,10000046,10000047,10000048,10000049,10000050,10000051,10000052,10000053,10000054,10000055,10000056,10000057,10000058,10000059,10000060,10000061,10000062,10000063,10000064,10000065,10000066,10000067,10000068,10000069,10000070,10000071,10000072,10000073,10000074,10000075,10000076,10000077,10000078,10000079,10000080,10000081,10000082,10000083,10000084,10000085,10000086,10000087,10000088,10000089,10000090,10000091,10000092,10000093,10000094,10000095,10000096,10000097,10000098,10000099
      let tokenData = {
        hash:
          "0x2ed5912b84b7777777777772735e5a45416a5a723172a643ca545bee87be96c2",
        //"0x2ed5912b84b45dad487dd392735e5a45416a5a723172a643ca545bee87be96c2", 0x9C238282Db349A20d501c5bfeE13ed29ae5a451C",
        tokenId: "500005"
      };
    </script>
    <style type="text/css">
      body {
        margin: 0;
        padding: 0;
      }

      canvas {
        padding: 0;
        margin: auto;
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }
    </style>
  </head>
  <body>
    <center>
      <h1>
        5 üçæ
      </h1>
      <a href="https://api.artblocks.io/project/5">project 5</a>
    </center>
    <script>
      let seed = tokenData.tokenId
let unit;
let i, j;
let h1, h2, h3, h4;
let c;
let windows;
let display = false;

function setup() {
     let dim = Math.min(window.innerWidth / 16, window.innerHeight / 9);
     createCanvas(dim * 16, dim * 9);
     unit = width / 16;
     rectMode(CORNER);
     colorMode(HSB, 359, 100, 100, 1);
     background(0, 0, 100);
     noFill();
     noStroke();
}

function draw() {
     background(0, 0, 100);
     h1 = floor(map(rnd(), 0, 1, 0, 360));
     h2 = floor(map(rnd(), 0, 1, 0, 360));
     h3 = floor(map(rnd(), 0, 1, 0, 360));
     h4 = floor(map(rnd(), 0, 1, 0, 360));
     for (let i = 0; i < 9; i++) {
          for (let j = 0; j < 16; j++) {
               fill(h4, 100, 100, (1 - 0.066666667 * j) * (1 - 0.125 * i));
               rect((15 - j) * unit, (8 - i) * unit, unit, unit);
          }
     }
     for (let i = 0; i < 9; i++) {
          for (let j = 0; j < 16; j++) {
               fill(h3, 100, 100, (1 - 0.066666667 * j) * (1 - 0.125 * i));
               rect(j * unit, (8 - i) * unit, unit, unit);
          }
     }
     for (let i = 0; i < 9; i++) {
          for (let j = 0; j < 16; j++) {
               fill(h2, 100, 100, (1 - 0.066666667 * j) * (1 - 0.125 * i));
               rect((15 - j) * unit, i * unit, unit, unit);
          }
     }
     for (let i = 0; i < 9; i++) {
          for (let j = 0; j < 16; j++) {
               fill(h1, 100, 100, (1 - 0.066666667 * j) * (1 - 0.125 * i));
               rect(j * unit, i * unit, unit, unit);
          }
     }
     c = floor(map(rnd(), 0, 1, 1, 5));
     if (c == 1) {
          fill(0, 0, 100, 0);
     }
     if (c == 2) {
          fill(240, 100, 50, 0.25);
     }
     if (c == 3) {
          fill(0, 0, 60, 0.4);
     }
     if (c == 4) {
          fill(0, 15, 100, 0.4);
     }
     rect(0, 0, width, height);
     windows = floor(map(rnd(), 0, 1, 1, 10));
     noFill();
     stroke(0, 0, 0);
     strokeWeight(unit * 0.0625);
     if (windows == 1) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, unit, 0.25 * unit);
                    rect(j * unit, i * unit + 0.25 * unit, unit, 0.75 * unit);
               }
          }
     }
     if (windows == 2) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, unit, 0.25 * unit);
                    rect(j * unit, i * unit + 0.25 * unit, unit, 0.5 * unit);
                    rect(j * unit, i * unit + 0.75 * unit, unit, 0.25 * unit);
               }
          }
     }
     if (windows == 3) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, unit, 0.25 * unit);
                    rect(j * unit, i * unit + 0.25 * unit, 0.5 * unit, 0.75 * unit);
                    rect(j * unit + 0.5 * unit, i * unit + 0.25 * unit, 0.5 * unit, 0.75 * unit);
               }
          }
     }
     if (windows == 4) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, unit, 0.25 * unit);
                    rect(j * unit, i * unit + 0.25 * unit, 0.5 * unit, 0.5 * unit);
                    rect(j * unit + 0.5 * unit, i * unit + 0.25 * unit, 0.5 * unit, 0.5 * unit);
                    rect(j * unit, i * unit + 0.75 * unit, unit, 0.25 * unit);
               }
          }
     }
     if (windows == 5) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, 0.25 * unit, unit);
                    rect(j * unit + 0.25 * unit, i * unit, 0.5 * unit, unit);
                    rect(j * unit + 0.75 * unit, i * unit, 0.25 * unit, unit);
               }
          }
     }
     if (windows == 6) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, unit, 0.25 * unit);
                    rect(j * unit, i * unit + 0.25 * unit, 0.25 * unit, 0.75 * unit);
                    rect(j * unit + 0.25 * unit, i * unit + 0.25 * unit, 0.5 * unit, 0.75 * unit);
                    rect(j * unit + 0.75 * unit, i * unit + 0.25 * unit, 0.25 * unit, 0.75 * unit);
               }
          }
     }
     if (windows == 7) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, 0.25 * unit, unit);
                    rect(j * unit + 0.25 * unit, i * unit, 0.5 * unit, 0.5 * unit);
                    rect(j * unit + 0.25 * unit, i * unit + 0.5 * unit, 0.5 * unit, 0.5 * unit);
                    rect(j * unit + 0.75 * unit, i * unit, 0.25 * unit, unit);
               }
          }
     }
     if (windows == 8) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, 0.25 * unit, unit);
                    rect(j * unit + 0.25 * unit, i * unit, 0.5 * unit, 0.25 * unit);
                    rect(j * unit + 0.25 * unit, i * unit + 0.25 * unit, 0.5 * unit, 0.5 * unit);
                    rect(j * unit + 0.25 * unit, i * unit + 0.75 * unit, 0.5 * unit, 0.25 * unit);
                    rect(j * unit + 0.75 * unit, i * unit, 0.25 * unit, unit);
               }
          }
     }
     if (windows == 9) {
          for (let i = 0; i < 9; i++) {
               for (let j = 0; j < 16; j++) {
                    rect(j * unit, i * unit, unit, 0.25 * unit);
                    rect(j * unit, i * unit + 0.25 * unit, 0.25 * unit, 0.5 * unit);
                    rect(j * unit + 0.25 * unit, i * unit + 0.25 * unit, 0.5 * unit, 0.5 * unit);
                    rect(j * unit + 0.75 * unit, i * unit + 0.25 * unit, 0.25 * unit, 0.5 * unit);
                    rect(j * unit, i * unit + 0.75 * unit, unit, 0.25 * unit);
               }
          }
     }
     noLoop();
}

function rnd() {
     seed ^= seed << 13;
     seed ^= seed >> 17;
     seed ^= seed << 5;
     return (((seed < 0) ? ~seed + 1 : seed) % 1000) / 1000;
}

function mouseClicked() {
     if (display == false) {
          noStroke();
          fill(0, 0, 0, .2);
          rect(0, 0, width, height);
          fill(0, 0, 100);
          textSize(width / 64);
          text("Window: " + windows, width / 32, 1.5 * width / 32);
          let cond;
          if (c == 1) {
               cond = "Clear";
          }
          if (c == 2) {
               cond = "Night";
          }
          if (c == 3) {
               cond = "Cloudy";
          }
          if (c == 4) {
               cond = "Morning";
          }
          text("Condition: " + cond, width / 32, 2.5 * width / 32);
          text("Reflection 1: " + (h1 - 180), width / 32, 3.5 * width / 32);
          text("Reflection 2: " + (h2 - 180), width / 32, 4.5 * width / 32);
          text("Reflection 3: " + (h3 - 180), width / 32, 5.5 * width / 32);
          text("Reflection 4: " + (h4 - 180), width / 32, 6.6 * width / 32);
     }
     if (display == true) {
          seed = tokenData.tokenId;
          setup();
          redraw();
     }
     if (display == false) {
          display = true;
     } else {
          display = false;
     }
}
    </script>
  </body>
</html>
